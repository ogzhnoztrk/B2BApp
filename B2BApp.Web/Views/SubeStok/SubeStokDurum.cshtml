@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";

}

<div class="container">
    <h2>Sube Stoklar</h2>
    <hr />

   @*   <div class="p-3 border bg-light">

         <canvas id="pieChart" width="618" height="309"></canvas>
     </div> *@
    <br />



    <table id="subeStokTable" class="display" style="width:100%">
        <thead>
            <tr>
                <th>Şube Adi</th>
                <th>Ürün</th>
                <th>Stok</th>
                
            </tr>
        </thead>
        <tfoot>
        </tfoot>
    </table>
</div>






<link rel="stylesheet" href="" />
@* select2 kullanımı *@



<script type="text/javascript">
  
    let table;


    function initTable() {
        $.ajax({
            url: 'https://localhost/api/SubeStok/GetAllWithSubeAndUrunByTedarikciId',
            crossDomain: true,
            headers: {
                'accept': 'text/plain',
                'Authorization': "Bearer " + "@ViewBag.JwtCookie"
            },
            data: {
                'tedarikciId': '@ViewBag.FirmaId'
            }
        }).done(function (response) {
            table = $('#subeStokTable').DataTable({
                "language": { "url": '//cdn.datatables.net/plug-ins/2.0.8/i18n/tr.json' },
                "data": response.data,
                "columns": [
                    { "data": 'sube.subeAdi' },
                    { "data": 'urun.urunAdi' },
                    { "data": 'stok' },

                ]
            });


        });
    }
    initTable();
    
   

</script>